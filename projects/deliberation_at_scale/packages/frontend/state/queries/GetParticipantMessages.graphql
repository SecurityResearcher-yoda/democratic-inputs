fragment ParticipantMessage on messages {
  id
  content
  created_at
  type
}

query GetParticipantMessages($participantIds: [UUID!]) {
  messagesCollection(filter: { active: { eq: true }, participant_id: { in: $participantIds } }, orderBy: { created_at: AscNullsLast }, last: 30) {
    edges {
      node {
        ...ParticipantMessage
      }
    }
  }
}
